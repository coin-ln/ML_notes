# re—正则表达式

## 基础知识

正则表达式（Regular Expression）是一种用于匹配和操作文本字符串的强大工具。它使用一种特定的语法规则来描述字符串的模式，并可以在文本中搜索、匹配和替换符合模式的内容。

下面是正则表达式的一些基本元字符和语法规则：

1. 字符匹配：
   - 普通字符：表示匹配该字符本身，例如 `a` 匹配字符 "a"。
   - 转义字符：使用反斜线 `\` 转义特殊字符，例如 `\$` 匹配字符 "$"。
   - 字符类：用方括号 `[]` 表示，匹配其中的任意一个字符。例如 `[aeiou]` 匹配任意一个元音字母。
   - 范围类：在字符类中使用连字符 `-` 表示字符范围。例如 `[a-z]` 匹配任意一个小写字母。
   - 反向类：在字符类开头使用脱字符 `^` 表示取反。例如 `[^0-9]` 匹配任意一个非数字字符。

2. 重复匹配：
   - `*`：匹配前面的字符零次或多次。
   - `+`：匹配前面的字符一次或多次。
   - `?`：匹配前面的字符零次或一次。
   - `{n}`：匹配前面的字符恰好 n 次。
   - `{n,}`：匹配前面的字符至少 n 次。
   - `{n,m}`：匹配前面的字符至少 n 次，但不超过 m 次。

3. 特殊字符：
   - `.`：匹配除换行符以外的任意字符。
   - `^`：匹配字符串的开头。
   - `$`：匹配字符串的结尾。
   - `\b`：匹配单词边界。
   - `\d`：匹配任意一个数字。
   - `\w`：匹配任意一个字母、数字或下划线。

4. 分组和引用：
   - `()`：将其中的内容视为一个组。
   - `|`：表示逻辑或的关系。
   - `\number`：引用第 n 个分组的匹配结果。

5. 预定义字符类：
   - `\s`：匹配任意一个空白字符。
   - `\S`：匹配任意一个非空白字符。
   - `\w`：匹配任意一个单词字符。
   - `\W`：匹配任意一个非单词字符。
   - `\d`：匹配任意一个数字。
   - `\D`：匹配任意一个非数字字符。

这只是正则表达式的一小部分内容，它的功能非常丰富。正则表达式可以用于各种场景，例如文本匹配、搜索替换、数据提取

### []和[]+的区别

前者是列表中任意一个字符，后者可以为列表中的字符串

```python
import re

text = "Hello, world! How are you?"

# 匹配单个元音字母
result1 = re.findall('[aeiou]', text)
print(result1)  # 输出: ['e', 'o', 'o', 'o', 'a', 'e', 'o', 'u']

# 匹配连续出现的一个或多个元音字母
result2 = re.findall('[aeiou]+', text)
print(result2)  # 输出: ['e', 'o', 'o', 'ou']


```



## re.sub()—替换

```python
re.sub(pattern, repl, string, count=0, flags=0)
'''

参数解释：
- `pattern`：要匹配的正则表达式模式。
- `repl`：替换的字符串或替换函数。
- `string`：要进行替换的原始字符串。
- `count`（可选）：指定替换的最大次数，默认为0，表示替换所有匹配的部分。
- `flags`（可选）：用于控制正则表达式的匹配方式，例如忽略大小写、多行匹配等。

返回值：返回替换后的字符串。
'''
```

eg:

替换单字符

```python
import re
# 原始字符串
text = "Hello, world! How are you?"

# 将逗号替换为空格
result = re.sub(',', ' ', text)
result
'''
output:
'Hello  world! How are you?'
'''
```

替换多字符

```python
import re
# 原始字符串
text = "Hello, world! How are you?"

# 将逗号替换为空格
result = re.sub('[,!?]+', ' ', text)
result
'''
output:
'Hello  world  How are you '
'''

```

